<?xml version="1.0" encoding="ISO-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<!-- qwebmethod.cpp -->
  <title>QWebMethod Class Reference</title>
  <link rel="stylesheet" type="text/css" href="style/style.css" />
  <script src="scripts/jquery.js" type="text/javascript"></script>
  <script src="scripts/functions.js" type="text/javascript"></script>
</head>
<body class="offline narrow creator">
              <li><a href="modules.html">Modules</a></li>              <li>QWebMethod</li>
<div class="toc">
<h3><a name="toc">Contents</a></h3>
<ul>
<li class="level1"><a href="#public-types">Public Types</a></li>
<li class="level1"><a href="#public-functions">Public Functions</a></li>
<li class="level1"><a href="#signals">Signals</a></li>
<li class="level1"><a href="#protected-functions">Protected Functions</a></li>
<li class="level1"><a href="#protected-slots">Protected Slots</a></li>
<li class="level1"><a href="#details">Detailed Description</a></li>
</ul>
</div>
<h1 class="title">QWebMethod Class Reference</h1>
<!-- $$$QWebMethod-brief -->
<p>Class that can be used to asnchronously and synchronously send HTTP, SOAP 1.0, SOAP 1.2, JSON, XMLand REST messages to web services. <a href="#details">More...</a></p>
<!-- @@@QWebMethod -->
<pre class="highlightedCode brush: cpp">    #include &lt;QWebMethod&gt;</pre><p>Inherited by <a href="qwebservicemethod.html">QWebServiceMethod</a>.</p>
<ul>
<li><a href="qwebmethod-members.html">List of all members, including inherited members</a></li>
</ul>
<a name="public-types"></a>
<h2>Public Types</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> enum </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#HttpMethod-enum">HttpMethod</a></b> { POST, GET, PUT, DELETE }</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> enum </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#Protocol-enum">Protocol</a></b> { http, soap10, soap12, soap, ..., rest }</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> flags </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#Protocol-enum">Protocols</a></b></td></tr>
</table>
<a name="public-functions"></a>
<h2>Public Functions</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#QWebMethod">QWebMethod</a></b> ( QObject * <i>parent</i> = 0, Protocol <i>protocol</i> = soap12, HttpMethod <i>method</i> = POST )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#QWebMethod-2">QWebMethod</a></b> ( QUrl <i>url</i>, QObject * <i>parent</i> = 0, Protocol <i>protocol</i> = soap12, HttpMethod <i>method</i> = POST )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#dtor.QWebMethod">~QWebMethod</a></b> ()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#authenticate">authenticate</a></b> ( QString <i>newUsername</i> = QString(), QString <i>newPassword</i> = QString() )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#authenticate-2">authenticate</a></b> ( QUrl <i>customAuthString</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#errorInfo">errorInfo</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#host">host</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QUrl </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#hostUrl">hostUrl</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> HttpMethod </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#httpMethod">httpMethod</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#httpMethodString">httpMethodString</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#isErrorState">isErrorState</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#isReplyReady">isReplyReady</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#messageName">messageName</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QStringList </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#parameterNames">parameterNames</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QMap&lt;QString, QVariant&gt; </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#parameterNamesTypes">parameterNamesTypes</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> Protocol </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#protocol">protocol</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#protocolString">protocolString</a></b> ( bool <i>includeRest</i> = false ) const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#replyRead">replyRead</a></b> ()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QVariant </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#replyReadParsed">replyReadParsed</a></b> ()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QByteArray </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#replyReadRaw">replyReadRaw</a></b> ()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QStringList </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#returnValueName">returnValueName</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QMap&lt;QString, QVariant&gt; </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#returnValueNameType">returnValueNameType</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#sendMessage">sendMessage</a></b> ( QByteArray <i>requestData</i> = QByteArray() )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#setCredentials">setCredentials</a></b> ( QString <i>newUsername</i>, QString <i>newPassword</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#setHost">setHost</a></b> ( QString <i>newHost</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#setHost-2">setHost</a></b> ( QUrl <i>newHost</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#setHttpMethod">setHttpMethod</a></b> ( HttpMethod <i>method</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> bool </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#setHttpMethod-2">setHttpMethod</a></b> ( QString <i>newMethod</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#setMessageName">setMessageName</a></b> ( QString <i>newName</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#setMethodName">setMethodName</a></b> ( QString <i>newName</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#setParameters">setParameters</a></b> ( QMap&lt;QString, QVariant&gt; <i>params</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#setPassword">setPassword</a></b> ( QString <i>newPassword</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#setProtocol">setProtocol</a></b> ( Protocol <i>prot</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#setReturnValue">setReturnValue</a></b> ( QMap&lt;QString, QVariant&gt; <i>returnVal</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#setTargetNamespace">setTargetNamespace</a></b> ( QString <i>tNamespace</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#setUsername">setUsername</a></b> ( QString <i>newUsername</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#targetNamespace">targetNamespace</a></b> () const</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> QString </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#username">username</a></b> () const</td></tr>
</table>
<a name="signals"></a>
<h2>Signals</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#errorEncountered">errorEncountered</a></b> ( QString <i>errMessage</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#replyReady">replyReady</a></b> ( QByteArray <i>rply</i> )</td></tr>
</table>
<a name="protected-functions"></a>
<h2>Protected Functions</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#init">init</a></b> ()</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#prepareRequestData">prepareRequestData</a></b> ()</td></tr>
</table>
<a name="protected-slots"></a>
<h2>Protected Slots</h2>
<table class="alignedsummary">
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#authReplyFinished">authReplyFinished</a></b> ( QNetworkReply * <i>reply</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#authenticationSlot">authenticationSlot</a></b> ( QNetworkReply * <i>reply</i>, QAuthenticator * <i>authenticator</i> )</td></tr>
<tr><td class="memItemLeft rightAlign topAlign"> void </td><td class="memItemRight bottomAlign"><b><a href="qwebmethod.html#replyFinished">replyFinished</a></b> ( QNetworkReply * <i>netReply</i> )</td></tr>
</table>
<a name="details"></a>
<!-- $$$QWebMethod-description -->
<div class="descr">
<h2>Detailed Description</h2>
<p>Class that can be used to asnchronously and synchronously send HTTP, SOAP 1.0, SOAP 1.2, JSON, XMLand REST messages to web services.</p>
<p>QWebMethod class is acting as web method. You can use it to send and retrieve data from web services. There are many helper classes. <a href="qwsdl.html">QWsdl</a> can be used to read a WSDL file - it will automatically create a QMap of QWebMethods, all already set up and ready to be invoked. <a href="qwebservice.html">QWebService</a> can be used similarily as it is a high-level wrapper to <a href="qwsdl.html">QWsdl</a>. Additionally, qtWsdlConverter console application can automatically generate custom classes for any WSDL file.</p>
<p>If you need to authenticate on the server, use <a href="qwebmethod.html#authenticate">authenticate</a>() method. You can specify username and password right there, or before, using <a href="qwebmethod.html#setCredentials">setCredentials</a>(), <a href="qwebmethod.html#setUsername">setUsername</a>() and/ or <a href="qwebmethod.html#setPassword">setPassword</a>().</p>
<p>Typically, to send a message, you will need to set the URL, message name, target namespace (when using SOAP), parameters list (when invoking a medhod that has parameters), and then use the parameterless <a href="qwebmethod.html#sendMessage">sendMessage</a>() method. Here is a snippet for that:</p>
<pre class="highlightedCode brush: cpp">    QWebMethod *message = new QWebMethod(0, QWebMethod::soap12, QWebMethod::POST);
    message-&gt;setHost(&quot;http://www.currencyserver.de/webservice/currencyserverwebservice.asmx&quot;);
    message-&gt;setMessageName(&quot;getProviderList&quot;);
    message-&gt;setTargetNamespace(&quot;http://www.daenet.de/webservices/CurrencyServer&quot;);
    message-&gt;sendMessage();</pre>
<p>You then have to wait for replyReady(QVariant) signal, or check for reply using <a href="qwebmethod.html#isReplyReady">isReplyReady</a>() convenience method.</p>
<p>To send a REST message with (for example) JSON body, pass (<a href="qwebmethod.html#Protocol-enum">QWebMethod::rest</a> | <a href="qwebmethod.html#Protocol-enum">QWebMethod::json</a>) as protocol flag. Additionally, specify HTTP method to be used (POST, GET, PUT, DELETE). When sending a REST message, <i>messageName</i> is used as request URI, and <i>parameters</i> specify additioanl data to be sent in message body.</p>
<p>This class provides asynchronous <a href="qwebmethod.html#sendMessage">sendMessage</a>() only. If synchronous operation is needed, you can:</p>
<ul>
<li>use <a href="qwebservicemethod.html">QWebServiceMethod</a>, which provides some additional, useful constructors and methods</li>
<li>use static <a href="qwebservicemethod.html#sendMessage">QWebServiceMethod::sendMessage</a>()</li>
<li>subclass QWebMethod, and add a static <a href="qwebmethod.html#sendMessage">sendMessage</a>() method with a &quot;waiting loop&quot;</li>
<li>wait for <a href="qwebmethod.html#replyReady">replyReady</a>() signal in a &quot;waiting loop&quot;</li>
</ul>
<p>Here's a waiting loop snippet:</p>
<pre class="highlightedCode brush: cpp">    QWebMethod qsm;
    ...
    qsm.sendMessage();
    forever {
        if (qsm.replyReceived) {
            return qsm.reply;
        } else {
            qApp-&gt;processEvents(); <span class="comment">// Ensures that application remains responive to events (prevents freezing).</span>
        }
    }</pre>
<p>If you want to save some time on configuration in your code, you can subclass QWebMethod, implement a method, that would store your settings (an example configure() method is described below). Then, create your own slot for parsing the reply.</p>
<p>In your &quot;settings method&quot;, named for example configure(), you may want to:</p>
<ul>
<li>set host Url</li>
<li>set protocol</li>
<li>set message name</li>
<li>set target namespace</li>
<li>connect <a href="qwebmethod.html#replyReady">replyReady</a>() signal to your custom slot (where you can parse the reply and return it in a type of your convenience)</li>
</ul>
</div>
<p>See also <a href="qwebmethod.html#init">init</a>().</p>
<!-- @@@QWebMethod -->
<div class="types">
<h2>Member Type Documentation</h2>
<!-- $$$HttpMethod$$$POST$$$GET$$$PUT$$$DELETE -->
<h3 class="fn"><a name="HttpMethod-enum"></a>enum QWebMethod::HttpMethod</h3>
<p>Defines HTTP method to use when sending the message. Using more than 1 at the same time is forbidden (will not work).</p>
<table class="valuelist"><tr class="odd"><tr><th class="tblConst">Constant</th><th class="tblval">Value</th><th class="tbldscr">Description</th></tr>
<tr><td  class="topAlign"><tt>QWebMethod::POST</tt></td><td class=" topAlign"><tt>0x1</tt></td><td  class="topAlign"><a href="qwebmethod.html">QWebMethod</a> will use POST.</td></tr>
<tr><td  class="topAlign"><tt>QWebMethod::GET</tt></td><td class=" topAlign"><tt>0x2</tt></td><td  class="topAlign"><a href="qwebmethod.html">QWebMethod</a> will use GET.</td></tr>
<tr><td  class="topAlign"><tt>QWebMethod::PUT</tt></td><td class=" topAlign"><tt>0x4</tt></td><td  class="topAlign"><a href="qwebmethod.html">QWebMethod</a> will use PUT.</td></tr>
<tr><td  class="topAlign"><tt>QWebMethod::DELETE</tt></td><td class=" topAlign"><tt>0x8</tt></td><td  class="topAlign"><a href="qwebmethod.html">QWebMethod</a> will use DELETE.</td></tr>
</table>
<!-- @@@HttpMethod -->
<!-- $$$Protocol$$$http$$$soap10$$$soap12$$$soap$$$json$$$xml$$$rest -->
<h3 class="flags"><a name="Protocol-enum"></a>enum QWebMethod::Protocol<br/>flags QWebMethod::Protocols</h3>
<p>This enum type specifies the protocol that <a href="qwebmethod.html">QWebMethod</a> will use in communicating with the server:</p>
<table class="valuelist"><tr class="odd"><tr><th class="tblConst">Constant</th><th class="tblval">Value</th><th class="tbldscr">Description</th></tr>
<tr><td  class="topAlign"><tt>QWebMethod::http</tt></td><td class=" topAlign"><tt>0x01</tt></td><td  class="topAlign">HTTP protocol will be used.</td></tr>
<tr><td  class="topAlign"><tt>QWebMethod::soap10</tt></td><td class=" topAlign"><tt>0x02</tt></td><td  class="topAlign">SOAP 1.0 will be used.</td></tr>
<tr><td  class="topAlign"><tt>QWebMethod::soap12</tt></td><td class=" topAlign"><tt>0x04</tt></td><td  class="topAlign">SOAP 1.2 will be used.</td></tr>
<tr><td  class="topAlign"><tt>QWebMethod::soap</tt></td><td class=" topAlign"><tt>0x06</tt></td><td  class="topAlign">Convenience SOAP aggregator, used internally. If passed to <a href="qwebmethod.html#setProtocol">setProtocol</a>(), SOAP 1.2 will be used instead.</td></tr>
<tr><td  class="topAlign"><tt>QWebMethod::json</tt></td><td class=" topAlign"><tt>0x08</tt></td><td  class="topAlign">JSON message will be used.</td></tr>
<tr><td  class="topAlign"><tt>QWebMethod::xml</tt></td><td class=" topAlign"><tt>0x10</tt></td><td  class="topAlign">Message will be sent using plain XML (much simpler than SOAP).</td></tr>
<tr><td  class="topAlign"><tt>QWebMethod::rest</tt></td><td class=" topAlign"><tt>0x20</tt></td><td  class="topAlign"><a href="qwebmethod.html">QWebMethod</a> will switch into REST mode. This can be combined with any other Protocol flag to define, what message body should look like.</td></tr>
</table>
<p>The Protocols type is a typedef for <a href="qflags.html">QFlags</a>&lt;Protocol&gt;. It stores an OR combination of Protocol values.</p>
<!-- @@@Protocol -->
</div>
<div class="func">
<h2>Member Function Documentation</h2>
<!-- $$$QWebMethod[overload1]$$$QWebMethodQObject*ProtocolHttpMethod -->
<h3 class="fn"><a name="QWebMethod"></a>QWebMethod::QWebMethod ( QObject * <i>parent</i> = 0, <a href="qwebmethod.html#Protocol-enum">Protocol</a> <i>protocol</i> = soap12, <a href="qwebmethod.html#HttpMethod-enum">HttpMethod</a> <i>method</i> = POST )</h3>
<p>Constructs the message usign <i>parent</i>, <i>protocol</i> (which defaults to soap12), and <i>method</i> (which defaults to POST). Requires specifying other params later (<a href="qwebmethod.html#setParameters">setParameters</a>()).</p>
<p>See also <a href="qwebmethod.html#init">init</a>(), <a href="qwebmethod.html#setParameters">setParameters</a>(), <a href="qwebmethod.html#setProtocol">setProtocol</a>(), and <a href="qwebmethod.html#sendMessage">sendMessage</a>().</p>
<!-- @@@QWebMethod -->
<!-- $$$QWebMethod$$$QWebMethodQUrlQObject*ProtocolHttpMethod -->
<h3 class="fn"><a name="QWebMethod-2"></a>QWebMethod::QWebMethod ( QUrl <i>url</i>, QObject * <i>parent</i> = 0, <a href="qwebmethod.html#Protocol-enum">Protocol</a> <i>protocol</i> = soap12, <a href="qwebmethod.html#HttpMethod-enum">HttpMethod</a> <i>method</i> = POST )</h3>
<p>Constructs the message usign <i>parent</i>, <i>protocol</i> (which defaults to soap12), and <i>method</i> (which defaults to POST), and <i>url</i>. Especially convenient for parameterless methods (like quick GET messages).</p>
<p>See also <a href="qwebmethod.html#init">init</a>(), <a href="qwebmethod.html#setParameters">setParameters</a>(), <a href="qwebmethod.html#setProtocol">setProtocol</a>(), and <a href="qwebmethod.html#sendMessage">sendMessage</a>().</p>
<!-- @@@QWebMethod -->
<!-- $$$~QWebMethod[overload1]$$$~QWebMethod -->
<h3 class="fn"><a name="dtor.QWebMethod"></a>QWebMethod::~QWebMethod ()</h3>
<p>Deletes internal pointers.</p>
<!-- @@@~QWebMethod -->
<!-- $$$authReplyFinished[overload1]$$$authReplyFinishedQNetworkReply* -->
<h3 class="fn"><a name="authReplyFinished"></a>void QWebMethod::authReplyFinished ( QNetworkReply * <i>reply</i> )<tt> [protected slot]</tt></h3>
<p>TEMP Auth METHOD. HIGHLY EXPERIMENTAL. Checks for body of <i>reply</i> to determine correctness of authentication.</p>
<!-- @@@authReplyFinished -->
<!-- $$$authenticate[overload1]$$$authenticateQStringQString -->
<h3 class="fn"><a name="authenticate"></a>bool QWebMethod::authenticate ( QString <i>newUsername</i> = QString(), QString <i>newPassword</i> = QString() )</h3>
<p>Performs authentication using <i>newUsername</i> and <i>newPassword</i>, if specified. If not, and they were given using <a href="qwebmethod.html#setCredentials">setCredentials</a>(), <a href="qwebmethod.html#setUsername">setUsername</a>() or <a href="qwebmethod.html#setPassword">setPassword</a>(), it uses the existing values.</p>
<p>If no data is specified, it does nothing. Returns true on success.</p>
<p>See also <a href="qwebmethod.html#setCredentials">setCredentials</a>(), <a href="qwebmethod.html#setUsername">setUsername</a>(), and <a href="qwebmethod.html#setPassword">setPassword</a>().</p>
<!-- @@@authenticate -->
<!-- $$$authenticate$$$authenticateQUrl -->
<h3 class="fn"><a name="authenticate-2"></a>bool QWebMethod::authenticate ( QUrl <i>customAuthString</i> )</h3>
<p>Performs authentication using <i>customAuthString</i>. Credentials specified by <a href="qwebmethod.html#setCredentials">setCredentials</a>(), <a href="qwebmethod.html#setUsername">setUsername</a>() or <a href="qwebmethod.html#setPassword">setPassword</a>() are NOT used.</p>
<p>If no data is specified, it does nothing (and returns false). Returns true on success.</p>
<p>See also <a href="qwebmethod.html#setCredentials">setCredentials</a>(), <a href="qwebmethod.html#setUsername">setUsername</a>(), and <a href="qwebmethod.html#setPassword">setPassword</a>().</p>
<!-- @@@authenticate -->
<!-- $$$authenticationSlot[overload1]$$$authenticationSlotQNetworkReply*QAuthenticator* -->
<h3 class="fn"><a name="authenticationSlot"></a>void QWebMethod::authenticationSlot ( QNetworkReply * <i>reply</i>, QAuthenticator * <i>authenticator</i> )<tt> [protected slot]</tt></h3>
<p>Internal method used to authenticate the communication. Use <a href="qwebmethod.html#setCredentials">setCredentials</a>() or <a href="qwebmethod.html#setUsername">setUsername</a>() and <a href="qwebmethod.html#setPassword">setPassword</a>() to specify the data.</p>
<p>This is a fallback method of QNAM. Typically, <a href="qwebmethod.html#authenticate">authenticate</a>() should be used.</p>
<p>Fills the <i>authenticator</i> object. Does not use <i>reply</i>.</p>
<!-- @@@authenticationSlot -->
<!-- $$$errorEncountered[overload1]$$$errorEncounteredQString -->
<h3 class="fn"><a name="errorEncountered"></a>void QWebMethod::errorEncountered ( QString <i>errMessage</i> )<tt> [signal]</tt></h3>
<p>Singal emitted when WsdlConverter encounters an error. Carries <i>errMessage</i> for convenience.</p>
<!-- @@@errorEncountered -->
<!-- $$$errorInfo[overload1]$$$errorInfo -->
<h3 class="fn"><a name="errorInfo"></a>QString QWebMethod::errorInfo () const</h3>
<p>Returns QString with error message in case an error occured. Otherwise, returns empty string.</p>
<p>See also <a href="qwebmethod.html#isErrorState">isErrorState</a>().</p>
<!-- @@@errorInfo -->
<!-- $$$host[overload1]$$$host -->
<h3 class="fn"><a name="host"></a>QString QWebMethod::host () const</h3>
<p>Returns host's URL (in QString). If you want a QUrl, call getHostUrl(), or QUrl(QWebMethod::getHost());</p>
<p>See also <a href="qwebmethod.html#setHost">setHost</a>().</p>
<!-- @@@host -->
<!-- $$$hostUrl[overload1]$$$hostUrl -->
<h3 class="fn"><a name="hostUrl"></a>QUrl QWebMethod::hostUrl () const</h3>
<p>Returns host's URL. If you want a QString, call getHost() or getHostUrl().<a href="qwebmethod.html#host">host</a>();</p>
<!-- @@@hostUrl -->
<!-- $$$httpMethod[overload1]$$$httpMethod -->
<h3 class="fn"><a name="httpMethod"></a><a href="qwebmethod.html#HttpMethod-enum">HttpMethod</a> QWebMethod::httpMethod () const</h3>
<p>Returns currently set HTTP method.</p>
<p>See also <a href="qwebmethod.html#setHttpMethod">setHttpMethod</a>() and <a href="qwebmethod.html#protocol">protocol</a>().</p>
<!-- @@@httpMethod -->
<!-- $$$httpMethodString[overload1]$$$httpMethodString -->
<h3 class="fn"><a name="httpMethodString"></a>QString QWebMethod::httpMethodString () const</h3>
<p>Returns the HTTP method used, in form of a QString.</p>
<p>See also <a href="qwebmethod.html#httpMethod">httpMethod</a>().</p>
<!-- @@@httpMethodString -->
<!-- $$$init[overload1]$$$init -->
<h3 class="fn"><a name="init"></a>void QWebMethod::init ()<tt> [protected]</tt></h3>
<p>Performs genral initialisation of the object. Sets default variable values, initializes network manager, connects reply signals. Calls virtual method, configure().</p>
<!-- @@@init -->
<!-- $$$isErrorState[overload1]$$$isErrorState -->
<h3 class="fn"><a name="isErrorState"></a>bool QWebMethod::isErrorState () const</h3>
<p>Returns true if there was an error, false otherwise. Details about an error can be read with getErrorInfo().</p>
<p>See also <a href="qwebmethod.html#errorInfo">errorInfo</a>().</p>
<!-- @@@isErrorState -->
<!-- $$$isReplyReady[overload1]$$$isReplyReady -->
<h3 class="fn"><a name="isReplyReady"></a>bool QWebMethod::isReplyReady () const</h3>
<p>Returns true if reply was received.</p>
<!-- @@@isReplyReady -->
<!-- $$$messageName[overload1]$$$messageName -->
<h3 class="fn"><a name="messageName"></a>QString QWebMethod::messageName () const</h3>
<p>Returns message's name.</p>
<p>See also <a href="qwebmethod.html#setMessageName">setMessageName</a>().</p>
<!-- @@@messageName -->
<!-- $$$parameterNames[overload1]$$$parameterNames -->
<h3 class="fn"><a name="parameterNames"></a>QStringList QWebMethod::parameterNames () const</h3>
<p>Retrurns list of parameters' names.</p>
<!-- @@@parameterNames -->
<!-- $$$parameterNamesTypes[overload1]$$$parameterNamesTypes -->
<h3 class="fn"><a name="parameterNamesTypes"></a>QMap&lt;QString, QVariant&gt; QWebMethod::parameterNamesTypes () const</h3>
<p>Returns whole parameter information (name and type).</p>
<!-- @@@parameterNamesTypes -->
<!-- $$$prepareRequestData[overload1]$$$prepareRequestData -->
<h3 class="fn"><a name="prepareRequestData"></a>void QWebMethod::prepareRequestData ()<tt> [protected]</tt></h3>
<p>Protected function, invoked by <a href="qwebmethod.html#sendMessage">sendMessage</a>(). Modifies QByteArray data, so that it is consistent with protocol and HTTP method specification. It uses QMap&lt;QString, QVariant&gt; parameters to fill data object's body. Can be overriden by creating custom QByteArray and passing it to <a href="qwebmethod.html#sendMessage">sendMessage</a>().</p>
<p>See also <a href="qwebmethod.html#sendMessage">sendMessage</a>().</p>
<!-- @@@prepareRequestData -->
<!-- $$$protocol[overload1]$$$protocol -->
<h3 class="fn"><a name="protocol"></a><a href="qwebmethod.html#Protocol-enum">Protocol</a> QWebMethod::protocol () const</h3>
<p>Returns currently set protocol.</p>
<p>See also <a href="qwebmethod.html#setProtocol">setProtocol</a>() and <a href="qwebmethod.html#httpMethod">httpMethod</a>().</p>
<!-- @@@protocol -->
<!-- $$$protocolString[overload1]$$$protocolStringbool -->
<h3 class="fn"><a name="protocolString"></a>QString QWebMethod::protocolString ( bool <i>includeRest</i> = false ) const</h3>
<p>Returns protocol used in form of a QString. If <i>includeRest</i> is true, and --rest flag was specified, it appends &quot;,rest&quot; to the result.</p>
<!-- @@@protocolString -->
<!-- $$$replyFinished[overload1]$$$replyFinishedQNetworkReply* -->
<h3 class="fn"><a name="replyFinished"></a>void QWebMethod::replyFinished ( QNetworkReply * <i>netReply</i> )<tt> [protected slot]</tt></h3>
<p>Public (will probably be private in the future) slot, which processes the reply (<i>netReply</i>) from the server. Emits the <a href="qwebmethod.html#replyReady">replyReady</a>() signal.</p>
<!-- @@@replyFinished -->
<!-- $$$replyRead[overload1]$$$replyRead -->
<h3 class="fn"><a name="replyRead"></a>QString QWebMethod::replyRead ()</h3>
<p>After making asynchronous call, and getting the <a href="qwebmethod.html#replyReady">replyReady</a>() signal, this method can be used to read the reply.</p>
<!-- @@@replyRead -->
<!-- $$$replyReadParsed[overload1]$$$replyReadParsed -->
<h3 class="fn"><a name="replyReadParsed"></a>QVariant QWebMethod::replyReadParsed ()</h3>
<p>After making asynchronous call, and getting the <a href="qwebmethod.html#replyReady">replyReady</a>() signal, this method can be used to read the reply.</p>
<p>Returns parsed data.</p>
<!-- @@@replyReadParsed -->
<!-- $$$replyReadRaw[overload1]$$$replyReadRaw -->
<h3 class="fn"><a name="replyReadRaw"></a>QByteArray QWebMethod::replyReadRaw ()</h3>
<p>After making asynchronous call, and getting the <a href="qwebmethod.html#replyReady">replyReady</a>() signal, this method can be used to read the reply.</p>
<p>Returns the raw data acquired from server.</p>
<!-- @@@replyReadRaw -->
<!-- $$$replyReady[overload1]$$$replyReadyQByteArray -->
<h3 class="fn"><a name="replyReady"></a>void QWebMethod::replyReady ( QByteArray <i>rply</i> )<tt> [signal]</tt></h3>
<p>Signal invoked when the reply (<i>rply</i>) from web service's server is ready for reading.</p>
<!-- @@@replyReady -->
<!-- $$$returnValueName[overload1]$$$returnValueName -->
<h3 class="fn"><a name="returnValueName"></a>QStringList QWebMethod::returnValueName () const</h3>
<p>Returns return value's name.</p>
<!-- @@@returnValueName -->
<!-- $$$returnValueNameType[overload1]$$$returnValueNameType -->
<h3 class="fn"><a name="returnValueNameType"></a>QMap&lt;QString, QVariant&gt; QWebMethod::returnValueNameType () const</h3>
<p>Returns whole return value information (name and type).</p>
<!-- @@@returnValueNameType -->
<!-- $$$sendMessage[overload1]$$$sendMessageQByteArray -->
<h3 class="fn"><a name="sendMessage"></a>bool QWebMethod::sendMessage ( QByteArray <i>requestData</i> = QByteArray() )</h3>
<p>Sends the message asynchronously, assuming that all neccessary data was specified earlier. Optionally, a QByteArray (<i>requestData</i>) can be specified - it will override standard data encapsulation (preparation, see <a href="qwebmethod.html#prepareRequestData">prepareRequestData</a>()), and send the byte array without any changes.</p>
<p>If synchronous operation is needed, you can:</p>
<ul>
<li>use static <a href="qwebservicemethod.html#sendMessage">QWebServiceMethod::sendMessage</a>()</li>
<li>subclass <a href="qwebmethod.html">QWebMethod</a>, and add a static sendMessage() method with a &quot;waiting loop&quot;</li>
<li>wait for <a href="qwebmethod.html#replyReady">replyReady</a>() signal in a &quot;waiting loop&quot;</li>
</ul>
<p>Here's a waiting loop snippet:</p>
<pre class="highlightedCode brush: cpp">    QWebMethod qsm;
    ...
    qsm.sendMessage();
    forever {
        if (qsm.replyReceived) {
            return qsm.reply;
        } else {
            qApp-&gt;processEvents(); <span class="comment">// Ensures that application remains responive to events (prevents freezing).</span>
        }
    }</pre>
<p>Returns true on success.</p>
<p>See also <a href="qwebmethod.html#setParameters">setParameters</a>(), <a href="qwebmethod.html#setProtocol">setProtocol</a>(), <a href="qwebmethod.html#setTargetNamespace">setTargetNamespace</a>(), and <a href="qwebmethod.html#prepareRequestData">prepareRequestData</a>().</p>
<!-- @@@sendMessage -->
<!-- $$$setCredentials[overload1]$$$setCredentialsQStringQString -->
<h3 class="fn"><a name="setCredentials"></a>void QWebMethod::setCredentials ( QString <i>newUsername</i>, QString <i>newPassword</i> )</h3>
<p>Used for authentication. Sets username (<i>newUsername</i>) and password (<i>newPassword</i>). To authenticate, call <a href="qwebmethod.html#authenticate">authenticate</a>().</p>
<p>See also <a href="qwebmethod.html#setUsername">setUsername</a>(), <a href="qwebmethod.html#setPassword">setPassword</a>(), and <a href="qwebmethod.html#authenticate">authenticate</a>().</p>
<!-- @@@setCredentials -->
<!-- $$$setHost[overload1]$$$setHostQString -->
<h3 class="fn"><a name="setHost"></a>void QWebMethod::setHost ( QString <i>newHost</i> )</h3>
<p>Sets message's host to <i>newHost</i>.</p>
<p>See also <a href="qwebmethod.html#host">host</a>().</p>
<!-- @@@setHost -->
<!-- $$$setHost$$$setHostQUrl -->
<h3 class="fn"><a name="setHost-2"></a>void QWebMethod::setHost ( QUrl <i>newHost</i> )</h3>
<p>Sets message's host to <i>newHost</i>.</p>
<!-- @@@setHost -->
<!-- $$$setHttpMethod[overload1]$$$setHttpMethodHttpMethod -->
<h3 class="fn"><a name="setHttpMethod"></a>void QWebMethod::setHttpMethod ( <a href="qwebmethod.html#HttpMethod-enum">HttpMethod</a> <i>method</i> )</h3>
<p>Sets the httpMethod flag (<i>method</i>, a value of <a href="qwebmethod.html#HttpMethod-enum">QWebMethod::HttpMethod</a>). Default method is <a href="qwebmethod.html#HttpMethod-enum">QWebMethod::POST</a>.</p>
<p>See also <a href="qwebmethod.html#httpMethod">httpMethod</a>().</p>
<!-- @@@setHttpMethod -->
<!-- $$$setHttpMethod$$$setHttpMethodQString -->
<h3 class="fn"><a name="setHttpMethod-2"></a>bool QWebMethod::setHttpMethod ( QString <i>newMethod</i> )</h3>
<p>Sets the httpMethod flag (<i>newMethod</i>, using QString representation of HTTP method (post, get, put, or delete)). Setting is NOT case sensitive. Default method is POST.</p>
<p>Returns true if successful.</p>
<!-- @@@setHttpMethod -->
<!-- $$$setMessageName[overload1]$$$setMessageNameQString -->
<h3 class="fn"><a name="setMessageName"></a>void QWebMethod::setMessageName ( QString <i>newName</i> )</h3>
<p>Sets message's name to <i>newName</i>.</p>
<p>See also <a href="qwebmethod.html#messageName">messageName</a>().</p>
<!-- @@@setMessageName -->
<!-- $$$setMethodName[overload1]$$$setMethodNameQString -->
<h3 class="fn"><a name="setMethodName"></a>void QWebMethod::setMethodName ( QString <i>newName</i> )</h3>
<p>Sets message's name to <i>newName</i>.</p>
<!-- @@@setMethodName -->
<!-- $$$setParameters[overload1]$$$setParametersQMap<QString,QVariant> -->
<h3 class="fn"><a name="setParameters"></a>void QWebMethod::setParameters ( QMap&lt;QString, QVariant&gt; <i>params</i> )</h3>
<p>Sets method's parameters (<i>params</i>). This also includes their names.</p>
<!-- @@@setParameters -->
<!-- $$$setPassword[overload1]$$$setPasswordQString -->
<h3 class="fn"><a name="setPassword"></a>void QWebMethod::setPassword ( QString <i>newPassword</i> )</h3>
<p>Used for authentication. Sets password using <i>newPassword</i>. To authenticate, call <a href="qwebmethod.html#authenticate">authenticate</a>().</p>
<p>See also <a href="qwebmethod.html#setUsername">setUsername</a>(), <a href="qwebmethod.html#setCredentials">setCredentials</a>(), and <a href="qwebmethod.html#authenticate">authenticate</a>().</p>
<!-- @@@setPassword -->
<!-- $$$setProtocol[overload1]$$$setProtocolProtocol -->
<h3 class="fn"><a name="setProtocol"></a>void QWebMethod::setProtocol ( <a href="qwebmethod.html#Protocol-enum">Protocol</a> <i>prot</i> )</h3>
<p>Sets the protocol flag (<i>prot</i>, being one of the values of <a href="qwebmethod.html#Protocol-enum">QWebMethod::Protocol</a>). This determines the protocol used later, when sending request. Defaults to SOAP1.2&#x2e;</p>
<p>WARNING: This method also checks for disallowed combinations. If such combination is encountered, it discards the set protocol, and sets SOAP 1.2&#x2e;</p>
<p>This behavious will probably change in the future, when <a href="qwebmethod.html">QWebMethod</a> gets error handling.</p>
<p>See also <a href="qwebmethod.html#protocol">protocol</a>().</p>
<!-- @@@setProtocol -->
<!-- $$$setReturnValue[overload1]$$$setReturnValueQMap<QString,QVariant> -->
<h3 class="fn"><a name="setReturnValue"></a>void QWebMethod::setReturnValue ( QMap&lt;QString, QVariant&gt; <i>returnVal</i> )</h3>
<p>Sets method's return value (<i>returnVal</i>). This also includes their names.</p>
<!-- @@@setReturnValue -->
<!-- $$$setTargetNamespace[overload1]$$$setTargetNamespaceQString -->
<h3 class="fn"><a name="setTargetNamespace"></a>void QWebMethod::setTargetNamespace ( QString <i>tNamespace</i> )</h3>
<p>Sets message's target namespace (<i>tNamespace</i>), which is needed in SOAP messaging.</p>
<p>See also <a href="qwebmethod.html#targetNamespace">targetNamespace</a>().</p>
<!-- @@@setTargetNamespace -->
<!-- $$$setUsername[overload1]$$$setUsernameQString -->
<h3 class="fn"><a name="setUsername"></a>void QWebMethod::setUsername ( QString <i>newUsername</i> )</h3>
<p>Used for authentication. Sets username using <i>newUsername</i>. To authenticate, call <a href="qwebmethod.html#authenticate">authenticate</a>().</p>
<p>See also <a href="qwebmethod.html#username">username</a>(), <a href="qwebmethod.html#setPassword">setPassword</a>(), <a href="qwebmethod.html#setCredentials">setCredentials</a>(), and <a href="qwebmethod.html#authenticate">authenticate</a>().</p>
<!-- @@@setUsername -->
<!-- $$$targetNamespace[overload1]$$$targetNamespace -->
<h3 class="fn"><a name="targetNamespace"></a>QString QWebMethod::targetNamespace () const</h3>
<p>Returns target namespace.</p>
<p>See also <a href="qwebmethod.html#setTargetNamespace">setTargetNamespace</a>().</p>
<!-- @@@targetNamespace -->
<!-- $$$username[overload1]$$$username -->
<h3 class="fn"><a name="username"></a>QString QWebMethod::username () const</h3>
<p>Returns username.</p>
<p>See also <a href="qwebmethod.html#setUsername">setUsername</a>().</p>
<!-- @@@username -->
</div>
</body>
</html>
