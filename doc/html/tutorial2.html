<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>QtWebService: Tutorial</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">QtWebService
   </div>
   <div id="projectbrief">Web service communication in Qt/C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.1.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Properties</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Tutorial </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Part 2</p>
<ol type="1">
<li>First of all, ask yourself: do I really need a set of custom classes to communicate with a given web service? Then: does this WS have a WSDL definition?</li>
</ol>
<p>If both answers are "yes", or even "well, sort of", then you are in a right place to learn about it. If not, then what you probably need is to take a look at <a class="el" href="classQWebService.html" title="Class providing Web Service functionality.">QWebService</a>, <a class="el" href="classQWebMethod.html" title="Class that can be used to asnchronously and synchronously send HTTP, SOAP 1.0, SOAP 1...">QWebMethod</a>, and/ or <a class="el" href="classQWsdl.html" title="Class for interaction with local and remote WSDL files. Currently read-only.">QWsdl</a> classes inside <a class="el" href="classQWebService.html" title="Class providing Web Service functionality.">QWebService</a> library. They offer powerful genereric ways of communitations with web services. And yes, they can do their own WSDL parsing.</p>
<p>Anyway, you want automatically generated, custom code that communicates with web services. Fine. Another thing to consider is: do I want a fully independent code (which is quite lengthy) or maybe I can live with being dependent on <a class="el" href="classQWebMethod.html" title="Class that can be used to asnchronously and synchronously send HTTP, SOAP 1.0, SOAP 1...">QWebMethod</a> (code is shorter, but web methods subclass <a class="el" href="classQWebMethod.html" title="Class that can be used to asnchronously and synchronously send HTTP, SOAP 1.0, SOAP 1...">QWebMethod</a>)?</p>
<p>a) I don't want to subclass! Well, your choice. qtwsdlconvert does not subclass by default, so you don't need to specify any special flag for your choice. This code is dependent only on QtCore module, so you can use it in any situation, even on embedded devices! The code that gets generated is always based on the newest available source code of <a class="el" href="classQWebMethod.html" title="Class that can be used to asnchronously and synchronously send HTTP, SOAP 1.0, SOAP 1...">QWebMethod</a>, but if you want to update your code later, you have to do it either by hand or from scratch.</p>
<p>Feel free to look through the sources that are being generated. You can change and adjust them as you wish. A good thing to start with is adding some custom parsing code to your web methods.</p>
<p>b) Give me those subclasses already! Right. You need to add -s or &ndash;subclass to your command line. This option makes you dependant on <a class="el" href="classQWebMethod.html" title="Class that can be used to asnchronously and synchronously send HTTP, SOAP 1.0, SOAP 1...">QWebMethod</a> and produces shorter code. All <a class="el" href="classQWebMethod.html" title="Class that can be used to asnchronously and synchronously send HTTP, SOAP 1.0, SOAP 1...">QWebMethod</a> methods are still available, so you can easily use it asynchronously even if you used &ndash;synchronous flag. This code inherits from <a class="el" href="classQWebMethod.html" title="Class that can be used to asnchronously and synchronously send HTTP, SOAP 1.0, SOAP 1...">QWebMethod</a>, so if QWM gets updated, you won't need to do anything in your code to benefit from those changes (well, apart from maybe recompiling the project - but not necessarily). <hr/>
<ol type="1">
<li>Next, you have to decide, whether you want the generated code to invoke web methods synchronously (default, can be explicitly set with &ndash;synchrnous flag), or asynchronously (-a or &ndash;asynchronous).</li>
</ol>
<p>a) synchronous invokation does wait for the reply. It returns QString replies, so you'll probably need to parse them in your code.</p>
<p>b) asynchronous invokes return immediately. When the reply is received, you will be notified by means of replyReady() signal. <hr/>
<ol type="1">
<li>Another step is the choice of communication protocol. Default it SOAP1.2, but you can choose from wide variety. Since you are converting a WSDL, SOAP1.2 is probably a right choice for you. <hr/>
</li>
</ol>
<ol type="1">
<li>We are past the most important flags now. Following are some less commonly used flags that might be of interest to you. Be sure to check ../README.txt for a list of all flags (you can also run "qtwsdlconver &amp;ndash;help").</li>
</ol>
<p>a) you can choose a build system file to create: qmake, cmake, scons, or none. Default option is qmake.</p>
<p>b) there is a subtle set of flags having to do with file structure. Default setting is to put all headers into "headers" folder, and all sources into "sources", with build system living happily in top directory. You can also choose to put everything into top dir (&ndash;all-in-one-dir flag), or resign from generating the messages (&ndash;no-message flag. This should not be used together with &ndash;subclass).</p>
<p>c) a flag that might be useful is &ndash;force (-f). It will overwrite any files found in destination directory.</p>
<p>d) The rest of the flags have more to do with how the generated code looks: you can specify suffixes for variables, number of spaces in a tabulation, and end of line character.</p>
<p>Hope that helps. Remember, if you spot any bug, or something is erroneously written, or you just don't like a part of the toolkit, please write to <a href="#" onclick="location.href='mai'+'lto:'+'sie'+'rd'+'zio'+'@g'+'mai'+'l.'+'com'; return false;">sierd<span style="display: none;">.nosp@m.</span>zio@<span style="display: none;">.nosp@m.</span>gmail<span style="display: none;">.nosp@m.</span>.com</a>. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Nov 11 2012 11:17:06 for QtWebService by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.1.2
</small></address>
</body>
</html>
